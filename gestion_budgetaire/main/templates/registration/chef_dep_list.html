{% extends "base.html" %}
{% block users_active %}
<li class="menu-item-has-children dropdown active">
{% endblock %}

{% block content %} 

{% load crispy_forms_tags %}         

<div class="row content">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <h4 class="box-title">Users Management </h4><br>
                        <br>
                        <div class="form-row">
                            <div class="form-group col-md-6 mb-0">
                                <h4>Nombre Totale des chef : {{chefs_count}}</h4>
                            </div>
                            <div class="form-group col-md-6 mb-0">
                                <a href="{% url 'ajouter_chef_dep' %}" class="btn btn-sm btn-primary" style="float: right;"> <span><i class="menu-icon fa fa-plus"></i></span> Ajouter</a>
                            </div>
                        </div>
						
						<hr>
						<!-- data show (liste des chefs) -->
						<div class="container mt-3">							
							<table class="table">
								<thead>
									<tr>
										<th>Nom</th>
										<th>Prenom</th>
										<th>Email</th>
										<th>DÃ©partement</th>
										<th>Action</th>
									</tr>
								</thead>
								<tbody>
									{% for c in chefs %}
									<tr>
										<td> {{c.user.Nom}}</td>
										<td> {{c.user.prenom}} </td>
										<td> {{c.user.email}} </td>
										<td> {{c.departement}}</td>
										<td>
											<a href="#" class="btn btn-sm btn-info"> <span><i class="menu-icon fa fa-pencil"></i></span> Modifier</a>
											<!-- <a href="delete_user/{{ c.user.id }}" class="btn btn-sm btn-danger">Supprimer</a> -->
											<button type="button" class="btn btn-sm btn-danger" data-toggle="modal" data-target="#exampleModal"><span><i class="menu-icon fa fa-trash-o"></i></span> Supprimer
											</button>
											
										</td>
									</tr>
						
							 <!-- Modal -->
							<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
							<div class="modal-dialog">
							  <div class="modal-content">
								<div class="modal-header">
								  <h5 class="modal-title" id="exampleModalLabel">Confirme Delete</h5>
								  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								  </button>
								</div>
								<div class="modal-body">
								  Are you sure you want to Delete this " {{c.user.Nom}} {{c.user.prenom}} " ?
								</div>
								<div class="modal-footer">
								  <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
								  <a href="delete_user/{{c.user.id}}" class="btn btn-danger">Supprimer</a>
								</div>
							  </div>
							</div>
							</div>
							
						
									{% endfor %}
								</tbody>
							</table>
						
						 
						</div>


						<!-- form pour aficher chef dep  -->
                    </div>
            </div>
        </div>
    </div><!-- /# column -->
</div>

{% endblock %}